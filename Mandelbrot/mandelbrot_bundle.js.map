{"version":3,"sources":["webpack:///webpack/bootstrap b4f9ee9f8098fb2cc722","webpack:///./mandelbrot.js","webpack:///./lib/game_view.js","webpack:///./lib/mandelbrot_image.js","webpack:///./lib/complex_utils.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;AACA;AACA;;AAEA;;;;;;;ACLA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;;AAEA;;;;;;;ACvBA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;AAGA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACrFA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA,mBAAkB,cAAc;AAChC;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;;AAEA;AACA;AACA;AACA","file":"mandelbrot_bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap b4f9ee9f8098fb2cc722\n **/","var canvasEl = document.getElementById('mandelbrot-canvas'),\n    ctx = canvasEl.getContext('2d'),\n    GameView = require('./lib/game_view'),\n    mandel = new GameView(canvasEl);\n    \nsetTimeout(mandel.launch.bind(mandel), 50);\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./mandelbrot.js\n ** module id = 0\n ** module chunks = 0\n **/","var MandelbrotImage = require('./mandelbrot_image');\n\nvar GameView = function(canvasEl) {\n  this.$canvasEl = $(canvasEl);\n  this.image = new MandelbrotImage(\n    canvasEl.getContext('2d'),\n    canvasEl.width,\n    canvasEl.height\n  );\n};\n\nGameView.prototype.launch = function() {\n  // this.$canvasEl.ondoubleclick = function(e) {\n  //   var width = this.$canvasEl.width\n  //   var height = this.$canvasEl.height\n  //   this.image.zoomOnPosition(e.offsetX / width,e.offsetY / height)\n  //   this.image.draw()\n  // }.bind(this) // TODO: Fix this\n  this.image.draw();\n  $('.loading').css(\"display\", \"none\");\n  this.$canvasEl.css(\"display\",\"block\");\n};\n\nmodule.exports = GameView;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game_view.js\n ** module id = 1\n ** module chunks = 0\n **/","var squareAndAddComplexNum = require('./complex_utils').squareAndAddComplexNum,\n    magnitude = require('./complex_utils').magnitude,\n    iterate = require('./complex_utils').iterate,\n    inCardioid = require('./complex_utils').inCardioid,\n    inMainDisk = require('./complex_utils').inMainDisk;\n\nvar MandelbrotImage = function(ctx,pxWidth,pxHeight) {\n  this.ctx = ctx;\n  this.upperLeft = [-2,1]\n  this.bottomRight = [1,-1]\n  this.pxWidth = pxWidth\n  this.pxHeight = pxHeight\n  this.zoomLevel = 0\n  // With zoom, can save previous zoom images to prevent reload time\n};\n\nMandelbrotImage.prototype.zoomOnPosition = function (x,y) {\n  this.zoomLevel++\n\n  var rangeX = this.bottomRight[0] - this.upperLeft[0],\n      rangeY = this.bottomRight[1] - this.upperLeft[1]\n\n  var scaledUL = [],\n      scaledBR = []\n\n\n};\n\nMandelbrotImage.prototype.setChunkData = function (tl,delX,delY,chunk) {\n  var d  = chunk.data\n\n  var currentPos = tl.slice(0,2),\n      i = 0;\n\n  while(i < d.length) {\n    d[i++] = 0\n    d[i++] = 0\n    if(inCardioid(currentPos) || inMainDisk(currentPos)) {\n      d[i++] = 0\n    } else {\n      d[i++] = iterate(currentPos,256)\n    }\n    d[i++] = 255\n    if(Math.round(i / 4) % chunk.width == 0) {\n      currentPos[1] += delY\n      currentPos[0] = tl[0]\n    } else {\n      currentPos[0] += delX\n    }\n  }\n};\n\nMandelbrotImage.prototype.draw = function () {\n  var numXChunks = 4,\n      numYChunks = 3,\n      tl = this.upperLeft,\n      br = this.bottomRight,\n      rangeX = br[0] - tl[0],\n      rangeY = br[1] - tl[1],\n      delX = rangeX / numXChunks,\n      delY = rangeY / numYChunks,\n      chunkDelX = rangeX / this.pxWidth,\n      chunkDelY = rangeY / this.pxHeight,\n      chunkTL\n\n  function _chunk(i,j,chunk) {\n    if(i == numXChunks) {\n      i = 0\n      j++\n    }\n    if(j == numYChunks) return;\n\n    chunkTL = [tl[0] + i * delX, tl[1] + j * delY]\n    this.setChunkData(chunkTL,chunkDelX,chunkDelY,chunk)\n    this.ctx.putImageData(chunk,i * this.pxWidth / numXChunks,j * this.pxHeight / numYChunks)\n    setTimeout(_chunk.bind(this,i + 1, j, chunk),5) // Prevents thread-blocking for too long\n  }\n\n  var chunk = this.ctx.createImageData(\n    this.pxWidth / numXChunks,\n    this.pxHeight / numYChunks\n  )\n  _chunk.call(this,0,0,chunk)\n};\n\nmodule.exports = MandelbrotImage;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/mandelbrot_image.js\n ** module id = 2\n ** module chunks = 0\n **/","function squareAndAddComplexNum(z, constantC) {\n  var a = z[0],\n  b = z[1],\n  c1 = constantC[0],\n  c2 = constantC[1];\n\n  return [a * a - b * b + c1, 2 * a * b + c2];\n}\n\nfunction magnitude(z) {\n  var a = z[0],\n  b = z[1];\n\n  return a * a + b * b;\n}\n\nmodule.exports = {\n  squareAndAddComplexNum: squareAndAddComplexNum,\n\n  magnitude: magnitude,\n\n  iterate: function(pos, numSteps) {\n    var iterator = [0,0];\n    for(var i = 0; i < numSteps; i++) {\n      iterator = squareAndAddComplexNum(iterator, pos);\n      if(magnitude(iterator) > 256) return (1 - i / numSteps) * 255;\n    }\n    return 0;\n  },\n\n  inCardioid: function(pos) {\n    var a = pos[0],\n    b = pos[1],\n    p = Math.sqrt((a - 1 / 4) * (a - 1 / 4) + b * b);\n\n    if(a < p - 2 * p * p + 1 / 4) {\n      return true;\n    }\n    return false;\n  },\n\n  inMainDisk: function(pos) {\n    var a = pos[0],\n    b = pos[1];\n\n    if (magnitude([a + 1, b]) < 1 / 16) return true;\n    return false;\n  }\n};\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/complex_utils.js\n ** module id = 3\n ** module chunks = 0\n **/"],"sourceRoot":""}