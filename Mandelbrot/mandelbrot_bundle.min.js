!function(t){function i(e){if(o[e])return o[e].exports;var n=o[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,i),n.l=!0,n.exports}var o={};return i.m=t,i.c=o,i.i=function(t){return t},i.d=function(t,o,e){i.o(t,o)||Object.defineProperty(t,o,{configurable:!1,enumerable:!0,get:e})},i.n=function(t){var o=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(o,"a",o),o},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=4)}([function(t,i){function o(t,i){var o=t[0],e=t[1],n=i[0],a=i[1];return[o*o-e*e+n,2*o*e+a]}function e(t){var i=t[0],o=t[1];return i*i+o*o}t.exports={squareAndAddComplexNum:o,magnitude:e,iterate:function(t,i){for(var n=[0,0],a=0;a<i;a++)if(n=o(n,t),e(n)>8)return 255*(1-a/i);return 0},inCardioid:function(t){var i=t[0],o=t[1],e=Math.sqrt((i-.25)*(i-.25)+o*o);return i<e-2*e*e+.25},inMainDisk:function(t){var i=t[0],o=t[1];return e([i+1,o])<1/16}}},function(t,i,o){var e=o(3),n=o(2),a=function(t,i,o){this.mandelCanvEl=t,this.image=new e(t.getContext("2d"),t.width,t.height),this.colorCanvEl=i,this.colorGrad=new n(i.getContext("2d"),this.image.updateColor.bind(this.image)),this.zoomOut=o};a.prototype.launch=function(){this.mandelCanvEl.ondblclick=function(t){this.image.zoomOnPosition(t.offsetX*this.mandelCanvEl.width/this.mandelCanvEl.clientWidth,t.offsetY*this.mandelCanvEl.height/this.mandelCanvEl.clientHeight),this.image.draw(),this.toggleZoom()}.bind(this),this.image.draw(),this.toggleZoom(),this.zoomOut.onclick=function(){this.image.zoomOut(),this.toggleZoom()}.bind(this),this.colorGrad.launch(this.colorCanvEl.width/this.colorCanvEl.clientWidth,this.colorCanvEl.height/this.colorCanvEl.clientHeight)},a.prototype.toggleZoom=function(){this.zoomOut.disabled=!this.image.zoomLevel},t.exports=a},function(t,i){var o=["#f00","#ff0","#0f0","#0ff","#00f","#f0f","#f00"],e=function(t,i){this.ctx=t,this.grad=t.createLinearGradient(0,0,t.canvas.width,0);for(var e=0;e<7;e++)this.grad.addColorStop(e/6,o[e]);this.updateColor=i};e.prototype.launch=function(t,i){function o(o){var e=this.ctx.getImageData(Math.round(o.offsetX*t),Math.round(o.offsetY*i),1,1).data.slice(0,3);(e[0]||e[1]||e[2])&&this.updateColor(e)}this.ctx.fillStyle=this.grad,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.canvas.onclick=o.bind(this)},t.exports=e},function(t,i,o){function e(t){var i=[];return t.forEach(function(t){i.push(t/255)}),i}function n(t,i,o){for(var e,n=t.createImageData(i.width,i.height),a=n.data,s=i.data,h=0;h<s.length;)e=Math.max(s[h],s[h+1],s[h+2]),a[h++]=o[0]*e,a[h++]=o[1]*e,a[h++]=o[2]*e,a[h++]=255;return n}var a=(o(0).squareAndAddComplexNum,o(0).magnitude,o(0).iterate),s=o(0).inCardioid,h=o(0).inMainDisk,r=function(t,i,o){this.ctx=t,this.upperLeft=[-2,1],this.bottomRight=[1,-1],this.pxWidth=i,this.pxHeight=o,this.zoomLevel=0,this.previousZooms=[],this.color=[0,0,1]};r.prototype.range=function(t){return this.bottomRight[t]-this.upperLeft[t]},r.prototype.zoomOnPosition=function(t,i){var o=this.ctx;this.zoomLevel++,this.previousZooms.push({ul:this.upperLeft.slice(0,2),br:this.bottomRight.slice(0,2),data:o.getImageData(0,0,this.pxWidth,this.pxHeight)});var e=this.range(0),n=this.range(1),a=this.upperLeft[0]+t*e/this.pxWidth,s=this.upperLeft[1]+i*n/this.pxHeight,h=e/10,r=n/10,c=[a-h/2,s-r/2],u=[a+h/2,s+r/2];this.upperLeft=c,this.bottomRight=u,this.draw()},r.prototype.zoomOut=function(){if(this.zoomLevel){var t=this.previousZooms.pop();this.upperLeft=t.ul,this.bottomRight=t.br,this.ctx.putImageData(t.data,0,0),this.zoomLevel--}},r.prototype.setChunkData=function(t,i,o,e){for(var n,r=e.data,c=t.slice(0,2),u=0,l=this.color[0],d=this.color[1],p=this.color[2];u<r.length;)n=s(c)||h(c)?0:a(c,256*(this.zoomLevel+1)),r[u++]=l*n,r[u++]=d*n,r[u++]=p*n,r[u++]=255,Math.round(u/4)%e.width==0?(c[1]+=o,c[0]=t[0]):c[0]+=i},r.prototype.draw=function(){function t(a,s,l){a==o&&(a=0,s++),s!=e&&(i=[n[0]+a*h,n[1]+s*r],this.setChunkData(i,c,u,l),this.ctx.putImageData(l,a*this.pxWidth/o,s*this.pxHeight/e),setTimeout(t.bind(this,a+1,s,l),5))}var i,o=4,e=3,n=this.upperLeft,a=(this.bottomRight,this.range(0)),s=this.range(1),h=a/o,r=s/e,c=a/this.pxWidth,u=s/this.pxHeight,l=this.ctx.createImageData(this.pxWidth/o,this.pxHeight/e);t.call(this,0,0,l)},r.prototype.updateColor=function(t){var i=this.ctx.getImageData(0,0,this.pxWidth,this.pxHeight),o=e(t),a=n(this.ctx,i,o);this.color=o,this.ctx.putImageData(a,0,0);for(var s=0;s<this.previousZooms.length;s++)this.previousZooms[s].data=n(this.ctx,this.previousZooms[s].data,o)},t.exports=r},function(t,i,o){function e(t){u.forEach(function(i,o){t==o?i.style.display="block":i.style.display="none"})}var n=document.getElementById("mandelbrot-canvas"),a=document.getElementById("color-canvas"),s=document.getElementById("zoom-out"),h=o(1),r=new h(n,a,s);setTimeout(r.launch.bind(r),50);var c=document.getElementsByClassName("info-header"),u=document.getElementsByClassName("info-section");c=Array.prototype.slice.call(c,0,c.length),u=Array.prototype.slice.call(u,0,u.length),c.forEach(function(t,i){t.onclick=function(t){t.preventDefault(),e(i)}}),e(0)}]);