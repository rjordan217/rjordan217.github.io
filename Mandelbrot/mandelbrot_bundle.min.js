!function(t){function i(o){if(e[o])return e[o].exports;var n=e[o]={i:o,l:!1,exports:{}};return t[o].call(n.exports,n,n.exports,i),n.l=!0,n.exports}var e={};return i.m=t,i.c=e,i.i=function(t){return t},i.d=function(t,e,o){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:o})},i.n=function(t){var e=t&&t.__esModule?function(){return t.default}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,i){return Object.prototype.hasOwnProperty.call(t,i)},i.p="",i(i.s=4)}([function(t,i){function e(t,i){var e=t[0],o=t[1],n=i[0],a=i[1];return[e*e-o*o+n,2*e*o+a]}function o(t){var i=t[0],e=t[1];return i*i+e*e}t.exports={squareAndAddComplexNum:e,magnitude:o,iterate:function(t,i){for(var n=[0,0],a=0;a<i;a++)if(n=e(n,t),o(n)>8)return 255*(1-a/i);return 0},inCardioid:function(t){var i=t[0],e=t[1],o=Math.sqrt((i-.25)*(i-.25)+e*e);return i<o-2*o*o+.25},inMainDisk:function(t){var i=t[0],e=t[1];return o([i+1,e])<1/16}}},function(t,i,e){var o=e(3),n=e(2),a=function(t,i,e){this.mandelCanvEl=t,this.image=new o(t.getContext("2d"),t.width,t.height),this.colorCanvEl=i,this.colorGrad=new n(i.getContext("2d"),this.image.updateColor.bind(this.image)),this.zoomOut=e};a.prototype.launch=function(){function t(t){this.image.zoomOnPosition(t.offsetX*this.mandelCanvEl.width/this.mandelCanvEl.clientWidth,t.offsetY*this.mandelCanvEl.height/this.mandelCanvEl.clientHeight),this.image.draw(),this.toggleZoom()}window.isMobile?this.mandelCanvEl.addEventListener("touchstart",function(i){if(this.dblTapped=this.dblTapped||!1,this.dblTapped){var e=i.target.getBoundingClientRect();i.offsetX=i.targetTouches[0].clientX-e.left,i.offsetY=i.targetTouches[0].clientY-e.top,t.call(this,i),this.dblTapped=!1}setTimeout(function(){this.dblTapped=!1}.bind(this),200),this.dblTapped=!0}.bind(this)):this.mandelCanvEl.ondblclick=t.bind(this),this.image.draw(),this.toggleZoom(),this.zoomOut.onclick=function(){this.image.zoomOut(),this.toggleZoom()}.bind(this),this.colorGrad.launch(this.colorCanvEl.width/this.colorCanvEl.clientWidth,this.colorCanvEl.height/this.colorCanvEl.clientHeight)},a.prototype.toggleZoom=function(){this.zoomOut.disabled=!this.image.zoomLevel},t.exports=a},function(t,i){var e=["#f00","#ff0","#0f0","#0ff","#00f","#f0f","#f00"],o=function(t,i){this.ctx=t,this.grad=t.createLinearGradient(0,0,t.canvas.width,0);for(var o=0;o<7;o++)this.grad.addColorStop(o/6,e[o]);this.updateColor=i};o.prototype.launch=function(t,i){function e(e){var o=this.ctx.getImageData(Math.round(e.offsetX*t),Math.round(e.offsetY*i),1,1).data.slice(0,3);(o[0]||o[1]||o[2])&&this.updateColor(o)}this.ctx.fillStyle=this.grad,this.ctx.fillRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.canvas.onclick=e.bind(this)},t.exports=o},function(t,i,e){function o(t){var i=[];return t.forEach(function(t){i.push(t/255)}),i}function n(t,i,e){for(var o,n=t.createImageData(i.width,i.height),a=n.data,s=i.data,h=0;h<s.length;)o=Math.max(s[h],s[h+1],s[h+2]),a[h++]=e[0]*o,a[h++]=e[1]*o,a[h++]=e[2]*o,a[h++]=255;return n}var a=(e(0).squareAndAddComplexNum,e(0).magnitude,e(0).iterate),s=e(0).inCardioid,h=e(0).inMainDisk,r=function(t,i,e){this.ctx=t,this.upperLeft=[-2,1],this.bottomRight=[1,-1],this.pxWidth=i,this.pxHeight=e,this.zoomLevel=0,this.previousZooms=[],this.color=[0,0,1]};r.prototype.range=function(t){return this.bottomRight[t]-this.upperLeft[t]},r.prototype.zoomOnPosition=function(t,i){var e=this.ctx;this.zoomLevel++,this.previousZooms.push({ul:this.upperLeft.slice(0,2),br:this.bottomRight.slice(0,2),data:e.getImageData(0,0,this.pxWidth,this.pxHeight)});var o=this.range(0),n=this.range(1),a=this.upperLeft[0]+t*o/this.pxWidth,s=this.upperLeft[1]+i*n/this.pxHeight,h=o/10,r=n/10,c=[a-h/2,s-r/2],l=[a+h/2,s+r/2];this.upperLeft=c,this.bottomRight=l,this.draw()},r.prototype.zoomOut=function(){if(this.zoomLevel){var t=this.previousZooms.pop();this.upperLeft=t.ul,this.bottomRight=t.br,this.ctx.putImageData(t.data,0,0),this.zoomLevel--}},r.prototype.setChunkData=function(t,i,e,o){for(var n,r=o.data,c=t.slice(0,2),l=0,u=this.color[0],d=this.color[1],p=this.color[2];l<r.length;)n=s(c)||h(c)?0:a(c,256*(this.zoomLevel+1)),r[l++]=u*n,r[l++]=d*n,r[l++]=p*n,r[l++]=255,Math.round(l/4)%o.width==0?(c[1]+=e,c[0]=t[0]):c[0]+=i},r.prototype.draw=function(){function t(a,s,u){a==e&&(a=0,s++),s!=o&&(i=[n[0]+a*h,n[1]+s*r],this.setChunkData(i,c,l,u),this.ctx.putImageData(u,a*this.pxWidth/e,s*this.pxHeight/o),setTimeout(t.bind(this,a+1,s,u),5))}var i,e=4,o=3,n=this.upperLeft,a=(this.bottomRight,this.range(0)),s=this.range(1),h=a/e,r=s/o,c=a/this.pxWidth,l=s/this.pxHeight,u=this.ctx.createImageData(this.pxWidth/e,this.pxHeight/o);t.call(this,0,0,u)},r.prototype.updateColor=function(t){var i=this.ctx.getImageData(0,0,this.pxWidth,this.pxHeight),e=o(t),a=n(this.ctx,i,e);this.color=e,this.ctx.putImageData(a,0,0);for(var s=0;s<this.previousZooms.length;s++)this.previousZooms[s].data=n(this.ctx,this.previousZooms[s].data,e)},t.exports=r},function(t,i,e){function o(t){l.forEach(function(i,e){t==e?i.style.display="block":i.style.display="none"})}window.isMobile=!1,/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator.userAgent)&&(window.isMobile=!0);var n=document.getElementById("mandelbrot-canvas"),a=document.getElementById("color-canvas"),s=document.getElementById("zoom-out"),h=e(1),r=new h(n,a,s);setTimeout(r.launch.bind(r),50);var c=document.getElementsByClassName("info-header"),l=document.getElementsByClassName("info-section");c=Array.prototype.slice.call(c,0,c.length),l=Array.prototype.slice.call(l,0,l.length),c.forEach(function(t,i){t.onclick=function(t){t.preventDefault(),o(i)}}),o(0)}]);