{"version":3,"sources":["webpack:///webpack/bootstrap 9c8a973148341cab8ab8","webpack:///./for_bundling.js","webpack:///./lib/game.js","webpack:///./lib/patterns.js","webpack:///./lib/hole.js","webpack:///./lib/ball.js","webpack:///./lib/utils.js","webpack:///./lib/collidable.js","webpack:///./lib/vector_utils.js","webpack:///./lib/accelerable.js","webpack:///./lib/cuestick.js","webpack:///./lib/ball_constants.js"],"names":[],"mappings":";AAAA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA,uBAAe;AACf;AACA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;;AAGA;AACA;;AAEA;AACA;;AAEA;AACA;;AAEA;AACA;;;;;;;ACtCA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA,EAAC;;;;;;;ACfD;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA,IAAG;AACH;;AAEA;AACA;AACA;AACA;AACA,IAAG;;AAEH;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,0CAAyC,sBAAsB;AAC/D,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA;AACA,cAAa;AACb;AACA;AACA,UAAS;AACT;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA,QAAO;AACP,MAAK;AACL;AACA;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;;;;;;AC/HA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA,IAAG;AACH;;AAEA;;;;;;;AClBA;AACA,kCAAiC;AACjC;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;AChDA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;;AAEA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,OAAM;AACN;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;;;;;;ACjFA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;;;;;;ACdA;;AAEA;AACA;AACA;AACA;AACA,IAAG;;;AAGH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA,QAAO;AACP;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,MAAK;AACL;AACA;;AAEA;;;;;;;ACrHA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA,IAAG;;AAEH;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA,QAAO;AACP;AACA;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA,IAAG;;AAEH;AACA;AACA;AACA;;AAEA;;;;;;;ACpDA;;AAEA;AACA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACpBA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA,MAAK;AACL;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA,IAAG;AACH;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;;;;;;ACvFA;AACA;AACA;;AAEA;AACA,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA,IAAG;AACH,IAAG;AACH;AACA;AACA;AACA;AACA;;AAEA","file":"bundle.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId])\n \t\t\treturn installedModules[moduleId].exports;\n\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\texports: {},\n \t\t\tid: moduleId,\n \t\t\tloaded: false\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.loaded = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(0);\n\n\n\n/** WEBPACK FOOTER **\n ** webpack/bootstrap 9c8a973148341cab8ab8\n **/","var canvasEl = document.getElementById('pool-canvas');\nvar ctx = canvasEl.getContext('2d');\n\nctx.font = \"30px Arial\";\nctx.fillText(\"Start Pool\", canvasEl.width / 2 - 50,canvasEl.height / 2 - 15);\n\nDIM_X = canvasEl.width;\nDIM_Y = canvasEl.height;\nvar toSize = Math.min(DIM_X / 2, DIM_Y);\nREL_DIM = toSize / 1.2;\n\nvar Game = require('./lib/game');\ncanvasEl.addEventListener(\"click\", function() {\n  var juego = new Game(ctx);\n  juego.startTurn();\n})\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./for_bundling.js\n ** module id = 0\n ** module chunks = 0\n **/","var Patterns = require('./patterns'),\n    Hole = require('./hole'),\n    Ball = require('./ball'),\n    Cuestick = require('./cuestick');\n\nTOP_LEFT = [DIM_X / 2 - REL_DIM, (DIM_Y - REL_DIM) / 2];\nBOTTOM_RIGHT = [DIM_X / 2 + REL_DIM, (DIM_Y + REL_DIM) / 2];\nBALL_RADIUS = REL_DIM * .04222;\n\nvar BallConstants = require('./ball_constants');\n\nvar Game = function(ctx) {\n  this.ctx = ctx;\n\n  this.ballArray = [];\n  BallConstants.map(function(ballConstant) {\n    return {\n      color: ballConstant.color.slice(0,ballConstant.color.length),\n      number: ballConstant.number,\n      pos: ballConstant.pos.slice(0,2)\n    };\n  }).forEach(function(ball) {\n    this.ballArray.push(new Ball(ball));\n  }.bind(this));\n  this.cueball = this.ballArray[0];\n\n  this.holeArray = [];\n  var HOLES = ['ul', 'um', 'ur', 'll', 'lm', 'lr'];\n  HOLES.forEach(function(holeId) {\n    this.holeArray.push(new Hole(holeId));\n  }.bind(this));\n\n  this.sunkBalls = [];\n\n  this.patterns = new Patterns(ctx,this.startTurn.bind(this));\n};\n\nGame.prototype.startTurn = function () {\n  this.cuestick = new Cuestick(this.cueball);\n  this.bindKeyHandlers();\n  this.drawTable();\n};\n\nGame.prototype.runTurn = function () {\n  this.unbindKeys();\n\n  var anyAreMobile = 1;\n  var self = this;\n  var drawTable = this.drawTable.bind(this);\n  var toClear;\n  function callback() {\n    cancelAnimationFrame(toClear);\n    var ballArray = self.ballArray;\n    var holeArray = self.holeArray;\n    if (anyAreMobile) {\n      var sunkArray = [];\n      anyAreMobile = 0;\n      ballArray.forEach(function(ball,idx) {\n        if (ball.runCourse(ballArray,holeArray)) anyAreMobile++;\n        if (ball.isSunk) sunkArray.push({index: idx,ball: ball});\n      });\n      ballArray.forEach(function(ball) {\n        ball.resetCollidedWith();\n      });\n      ballArray.forEach(function(ball) {\n        ball.ensurePointCollision(ballArray);\n      });\n      var offset = 0;\n      sunkArray.forEach(function(ballObj) {\n        self.ballArray.splice(ballObj.index - offset, 1);\n        ballArray = self.ballArray;\n        if(ballObj.index === 0) {\n          self.cueball = new Ball(\n            {number: 0,pos: [ DIM_X / 2 + REL_DIM / 2, DIM_Y / 2 ],color: '#ffffff'}\n          );\n          self.ballArray.unshift(self.cueball);\n        } else {\n          self.sunkBalls.push(ballObj.ball);\n          offset++;\n        }\n      });\n      toClear = requestAnimationFrame(function() {\n        drawTable();\n        callback();\n        self.cuestick = null;\n      });\n    } else {\n      toClear = requestAnimationFrame(function() {\n        drawTable();\n        self.startTurn();\n      });\n    }\n  }\n  toClear = requestAnimationFrame(callback);\n};\n\nGame.prototype.drawTable = function () {\n  var ctx = this.ctx;\n  ctx.clearRect(0,0,DIM_X,DIM_Y);\n  ctx.fillStyle = this.patterns.woodPattern;\n  ctx.fillRect(0, 0, DIM_X, DIM_Y);\n  ctx.fill();\n  ctx.fillStyle = this.patterns.feltPattern;\n  ctx.fillRect( TOP_LEFT[0], TOP_LEFT[1], 2 * REL_DIM, REL_DIM );\n  ctx.fill();\n\n  this.holeArray.forEach(function(hole) {\n    hole.draw(ctx);\n  });\n\n  this.ballArray.forEach(function(ball) {\n    ball.draw(ctx);\n  });\n\n  if(this.cuestick) {\n    this.cuestick.draw(ctx);\n  }\n};\n\nGame.prototype.bindKeyHandlers = function () {\n  this.cuestick.bindKeys(this.drawTable.bind(this), this.runTurn.bind(this));\n};\n\nGame.prototype.unbindKeys = function () {\n  this.cuestick.unbindKeys();\n};\n\nmodule.exports = Game;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/game.js\n ** module id = 1\n ** module chunks = 0\n **/","var Patterns = function(ctx, imagesLoadedCB) {\n  var woodImage = new Image();\n  woodImage.src ='./PoolProject/res/wood-pattern.png';\n  var greenFelt = new Image();\n  greenFelt.src = './PoolProject/res/pool_table.jpeg';\n  var imagesLoaded = 0;\n  woodImage.onload = function() {\n    this.woodPattern = ctx.createPattern(woodImage, 'repeat');\n    imagesLoaded++;\n    if(imagesLoaded === 2) imagesLoadedCB();\n  }.bind(this);\n  greenFelt.onload = function() {\n    this.feltPattern = ctx.createPattern(greenFelt, 'repeat');\n    imagesLoaded++;\n    if(imagesLoaded === 2) imagesLoadedCB();\n  }.bind(this);\n};\n\nmodule.exports = Patterns;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/patterns.js\n ** module id = 2\n ** module chunks = 0\n **/","var Hole = function(position) {\n  this.radius = REL_DIM * .08444; // 114 mm / 1.35 m ~= diameter / table width\n  this.pos = [];\n  this.idString = position;\n  switch (position) {\n    case 'ul':\n      this.pos.push(DIM_X / 2 - REL_DIM);\n      this.pos.push((DIM_Y - REL_DIM) / 2);\n      break;\n    case 'um':\n      this.pos.push(DIM_X / 2);\n      this.pos.push((DIM_Y - REL_DIM) / 2);\n      break;\n    case 'ur':\n      this.pos.push(DIM_X / 2 + REL_DIM);\n      this.pos.push((DIM_Y - REL_DIM) / 2);\n      break;\n    case 'll':\n      this.pos.push(DIM_X / 2 - REL_DIM);\n      this.pos.push((DIM_Y + REL_DIM) / 2);\n      break;\n    case 'lm':\n      this.pos.push(DIM_X / 2);\n      this.pos.push((DIM_Y + REL_DIM) / 2);\n      break;\n    case 'lr':\n      this.pos.push(DIM_X / 2 + REL_DIM);\n      this.pos.push((DIM_Y + REL_DIM) / 2);\n      break;\n  }\n};\n\nHole.prototype.draw = function (ctx) {\n  ctx.fillStyle = \"#000000\";\n  ctx.beginPath();\n\n  ctx.arc(\n    this.pos[0],\n    this.pos[1],\n    this.radius,\n    0,\n    2 * Math.PI,\n    false\n  );\n\n  ctx.fill();\n};\n\nmodule.exports = Hole;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/hole.js\n ** module id = 3\n ** module chunks = 0\n **/","var Utils = require('./utils'),\n    Collidable = require('./collidable'),\n    VectorUtils = require('./vector_utils'),\n    Accelerable = require('./accelerable');\n\nvar Ball = function(options) {\n  this.number = options.number;\n  this.isSunk = false;\n  this.pos = options.pos;\n  this.color = options.color;\n  this.radius = BALL_RADIUS;\n  this.vel = [0, 0];\n  this.collidedWith = [];\n  // this.game = options.game;\n};\n\nUtils.implementsModule(Ball, Collidable);\nUtils.implementsModule(Ball, Accelerable);\n\nBall.prototype.runCourse = function (ballArray, holeArray) {\n  if (Math.abs(this.vel[0]) > 0 || Math.abs(this.vel[1]) > 0) {\n    this.move();\n    if(this.collidedWithXWall()) {\n      this.changeXDir();\n    }\n    if(this.collidedWithYWall()) {\n      this.changeYDir();\n    }\n    ballArray.forEach(function(otherBall) {\n      if(this.collidedWithBall(otherBall) && !otherBall.collidedWith.includes(this)) {\n        this.collidedWith.push(otherBall);\n        this.exchangeMomentum(otherBall);\n      }\n    }.bind(this));\n    holeArray.forEach(function(hole) {\n      if(this.isInHole(hole)) {\n        console.log(\"Is in hole\");\n        this.sink(hole);\n      }\n    }.bind(this));\n    this.friction();\n\n    return true;\n  } else {\n    return false;\n  }\n};\n\nBall.prototype.resetCollidedWith = function () {\n  this.collidedWith = [];\n};\n\nBall.prototype.sink = function (hole) {\n  var distancia = VectorUtils.distance(this.pos,hole.pos);\n  this.isSunk = true;\n  this.vel = [0,0];\n  console.log(\"SUNK: \" + this.number);\n  // if (distancia < 20) {\n  //   console.log(\"SUNK\");\n  // } else {\n  //   var unitVector = VectorUtils.radialOf(this.pos,hole.pos) / distancia;\n  //   this.vel = VectorUtils.scale(10, unitVector);\n  // }\n};\n\nBall.prototype.draw = function (ctx) {\n  ctx.fillStyle = this.color;\n  ctx.beginPath();\n\n  ctx.arc(\n    this.pos[0],\n    this.pos[1],\n    this.radius,\n    0,\n    2 * Math.PI,\n    false\n  );\n\n  ctx.fill();\n};\n\nmodule.exports = Ball;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/ball.js\n ** module id = 4\n ** module chunks = 0\n **/","var Utils = {\n  inherits: function(Parent, Child) {\n    var Surrogate = function(){};\n    Surrogate.prototype = Parent.prototype;\n    Child.prototype = new Surrogate();\n    Child.prototype.constructor = Child;\n  },\n  implementsModule: function(inheritor, modulo) {\n    Object.keys(modulo).forEach(function(key) {\n      inheritor.prototype[key] = modulo[key];\n    });\n  }\n};\n\nmodule.exports = Utils;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/utils.js\n ** module id = 5\n ** module chunks = 0\n **/","var VectorUtils = require('./vector_utils');\n\nvar Collidable = {\n  move: function() {\n    this.pos[0] += this.vel[0];\n    this.pos[1] += this.vel[1];\n  },\n\n\n  changeXDir: function() {\n    this.vel[0] *= -1;\n  },\n\n  changeYDir: function() {\n    this.vel[1] *= -1;\n  },\n\n  changeDirByAngle: function(angle) {\n    var rads = angle / 180 * Math.PI;\n    var xVel = this.vel[0];\n    var yVel = this.vel[1];\n    var original;\n    var speed = VectorUtils.magnitude(this.vel);\n    if (xVel !== 0) {\n      original = Math.atan2(yVel, xVel);\n      if (xVel < 0) original += Math.PI;\n    } else {\n      if (yVel < 0) {\n        original = - Math.PI;\n      } else {\n        original = Math.PI;\n      }\n    }\n    this.vel[0] = speed * Math.cos(original + rads);\n    this.vel[1] = speed * Math.sin(original + rads);\n  },\n\n  collidedWithBall: function(otherBall) {\n    var distancia = VectorUtils.distance(this.pos, otherBall.pos)\n    if (distancia < (this.radius + otherBall.radius)) {\n      if (this.pos[0] !== otherBall.pos[0] || this.pos[1] !== otherBall.pos[1]) {\n        return true;\n      } else {\n        return false;\n      }\n    } else {\n      return false;\n    }\n  },\n\n  collidedWithXWall: function() {\n    if(this.isSunk) {\n      return false;\n    }\n    var x = this.pos[0],\n        radius = this.radius;\n    if (x - radius < TOP_LEFT[0]) {\n      this.pos[0] = TOP_LEFT[0] + radius;\n      return true;\n    }\n    if(x + radius > BOTTOM_RIGHT[0]) {\n      this.pos[0] = BOTTOM_RIGHT[0] - radius;\n      return true;\n    }\n    return false;\n  },\n\n  collidedWithYWall: function() {\n    if(this.isSunk) {\n      return false;\n    }\n    var y = this.pos[1],\n        radius = this.radius;\n    if (y - radius < TOP_LEFT[1]) {\n      this.pos[1] = TOP_LEFT[1] + radius;\n      return true;\n    }\n    if(y + radius > BOTTOM_RIGHT[1]) {\n      this.pos[1] = BOTTOM_RIGHT[1] - radius;\n      return true;\n    }\n    return false;\n  },\n\n  isInHole: function(hole) {\n    if (VectorUtils.distance(this.pos, hole.pos) < hole.radius + this.radius / 2) {\n      return true;\n    } else {\n      return false;\n    }\n  },\n\n  exchangeMomentum: function(otherBall) {\n    var velDiff1 = VectorUtils.vectorDiff(this.vel, otherBall.vel),\n        locDiff1 = VectorUtils.vectorDiff(this.pos, otherBall.pos),\n        radMagSq = Math.pow(VectorUtils.magnitudeOf(locDiff1),2),\n        velDiff2 = VectorUtils.negativeOf(velDiff1),\n        locDiff2 = VectorUtils.negativeOf(locDiff1),\n        coef = VectorUtils.dotProduct(velDiff1,locDiff1) / radMagSq;\n\n    this.vel = VectorUtils.vectorDiff(this.vel, VectorUtils.scale(coef, locDiff1));\n    otherBall.vel = VectorUtils.vectorDiff(otherBall.vel, VectorUtils.scale(coef, locDiff2));\n  },\n\n  ensurePointCollision: function(ballArray) {\n    ballArray.forEach(function(otherBall) {\n      if (this.collidedWithBall(otherBall)) {\n        var distance = VectorUtils.distance(this.pos, otherBall.pos),\n        scaledToRad = VectorUtils.scale(this.radius / distance, VectorUtils.radialOf(this.pos, otherBall.pos));\n\n        this.pos = VectorUtils.vectorSum(this.pos,VectorUtils.negativeOf(scaledToRad));\n        otherBall.pos = VectorUtils.vectorSum(otherBall.pos,scaledToRad);\n      }\n    }.bind(this));\n  }\n};\n\nmodule.exports = Collidable;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/collidable.js\n ** module id = 6\n ** module chunks = 0\n **/","var VectorUtils = {\n  distance: function(pos1,pos2) {\n    var x1 = pos1[0],\n        y1 = pos1[1],\n        x2 = pos2[0],\n        y2 = pos2[1];\n\n    return Math.sqrt(Math.pow((x2 - x1),2) + Math.pow((y2 - y1),2));\n  },\n\n  directionOf: function(vector) {\n    if (vector[0] !== 0) {\n      var theta = Math.atan2(vector[1],vector[0]);\n      return theta;\n    } else {\n      if(vector[1] > 0) {\n        return Math.PI / 2;\n      } else {\n        return - Math.PI / 2;\n      }\n    }\n  },\n\n  magnitudeOf: function(vector) {\n    return Math.sqrt(vector[0] * vector[0] + vector[1] * vector[1]);\n  },\n\n  radialOf: function(v1,v2) {\n    return [ v2[0] - v1[0], v2[1] - v2[1] ];\n  },\n\n  vectorSum: function(v1,v2) {\n    return [ v1[0] + v2[0], v1[1] + v2[1] ];\n  },\n\n  vectorDiff: function(v1,v2) {\n    return [ v1[0] - v2[0], v1[1] - v2[1] ];\n  },\n\n  negativeOf: function(vector) {\n    return [ -vector[0], -vector[1] ];\n  },\n\n  dotProduct: function(v1,v2) {\n    return v1[0] * v2[0] + v1[1] * v2[1];\n  },\n\n  scale: function(factor, vector) {\n    return [ factor * vector[0], factor * vector[1] ];\n  }\n};\n\nmodule.exports = VectorUtils;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/vector_utils.js\n ** module id = 7\n ** module chunks = 0\n **/","var VectorUtils = require('./vector_utils');\n\nvar Accelerable = {\n  accelerate: function(rate) {\n    this.vel[0] += rate[0];\n    this.vel[1] += rate[1];\n  },\n  friction: function() {\n    var frictionDir = Math.PI + VectorUtils.directionOf(this.vel);\n    this.vel[0] += .005 * Math.cos(frictionDir);\n    this.vel[1] += .005 * Math.sin(frictionDir);\n    if (Math.abs(this.vel[0]) < .2) {\n      this.vel[0] = 0;\n    }\n    if (Math.abs(this.vel[1]) < .2) {\n      this.vel[1] = 0;\n    }\n  }\n};\n\nmodule.exports = Accelerable;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/accelerable.js\n ** module id = 8\n ** module chunks = 0\n **/","var Cuestick = function(cueball) {\n  this.centeredOn = cueball.pos;\n  this.cueball = cueball;\n  this.angle = 0;\n  this.drawn = 0;\n};\n\nCuestick.prototype.rotate = function (direction) {\n  this.angle += direction * Math.PI / 90;\n};\n\nCuestick.prototype.drawBack = function (direction) {\n  if(this.drawn <= 0 && direction === -1) {\n    this.drawn = 0;\n  } else {\n    this.drawn += 4 * direction;\n  }\n};\n\nCuestick.prototype.impartMomentum = function (power) {\n  this.cueball.vel = [ - power / 40 * Math.cos(this.angle), - power / 40 * Math.sin(this.angle) ];\n};\n\nCuestick.prototype.fire = function(renderCB, turnCallback) {\n  var self = this;\n  var originalDrawn = this.drawn;\n\n  function _fire(callback) {\n    if(self.drawn > -30) {\n      self.drawn -= 10;\n      callback();\n      _fire(callback);\n    } else {\n      self.impartMomentum(originalDrawn);\n      self.drawn = -50;\n      turnCallback();\n    }\n  }\n  _fire(renderCB);\n};\n\nCuestick.prototype.keyBinder = function (renderCB, turnCB, e) {\n  e.preventDefault();\n  switch (e.keyCode) {\n    case 40:\n      this.drawBack(1);\n      renderCB();\n      break;\n    case 38:\n      this.drawBack(-1);\n      renderCB();\n      break;\n    case 37:\n      this.rotate(1);\n      renderCB();\n      break;\n    case 39:\n      this.rotate(-1);\n      renderCB();\n      break;\n    case 32:\n      this.fire(renderCB, turnCB);\n      break;\n  }\n  console.log(\"Listening\");\n};\n\nCuestick.prototype.bindKeys = function (renderCB, turnCB) {\n  this.toRemove = function(e) {\n    this.keyBinder(renderCB, turnCB, e);\n  }.bind(this);\n  document.addEventListener(\"keydown\", this.toRemove, false);\n};\n\nCuestick.prototype.unbindKeys = function (renderCB, turnCB) {\n  document.removeEventListener(\"keydown\", this.toRemove, false);\n};\n\nCuestick.prototype.draw = function (ctx) {\n  ctx.translate(this.centeredOn[0], this.centeredOn[1]);\n  ctx.rotate(this.angle);\n  ctx.fillStyle = '#ffca66';\n  ctx.fillRect(50 + this.drawn, -5, REL_DIM * 1.5, 10);\n  ctx.rotate(-this.angle);\n  ctx.translate(-this.centeredOn[0], -this.centeredOn[1]);\n};\n\nmodule.exports = Cuestick;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/cuestick.js\n ** module id = 9\n ** module chunks = 0\n **/","var TIP_OF_TRIANGLE = DIM_X / 2 - REL_DIM / 2;\nvar Y_BASE = DIM_Y / 2;\nvar DEL_X = BALL_RADIUS * Math.sqrt(3);\n\nvar BallConstants = [\n  { // Cueball\n    number: 0,\n    pos: [ DIM_X / 2 + REL_DIM / 2, Y_BASE ],\n    color: '#ffffff'\n  },\n  { // 1\n    number: 1,\n    pos: [ TIP_OF_TRIANGLE + 4, Y_BASE ],\n    color: 'yellow'\n  },\n  { // 2\n    number: 2,\n    pos: [ TIP_OF_TRIANGLE - DEL_X + 3, Y_BASE - BALL_RADIUS ],\n    color: 'blue'\n  },\n  { // 3\n    number: 3,\n    pos: [ TIP_OF_TRIANGLE - DEL_X + 3, Y_BASE + BALL_RADIUS ],\n    color: 'rgb(255,140,60)'\n  },\n  { // 4\n    number: 4,\n    pos: [ TIP_OF_TRIANGLE - 2 * DEL_X + 2, Y_BASE - 2 * BALL_RADIUS ],\n    color: 'rgb(255,0,255)'\n  },\n  { // 5\n    number: 5,\n    pos: [ TIP_OF_TRIANGLE - 2 * DEL_X + 2, Y_BASE ],\n    color: 'orange'\n  },\n  { // 6\n    number: 6,\n    pos: [ TIP_OF_TRIANGLE - 2 * DEL_X + 2, Y_BASE + 2 * BALL_RADIUS ],\n    color: 'rgb(0,200,0)'\n  },\n  { // 7\n    number: 7,\n    pos: [ TIP_OF_TRIANGLE - 3 * DEL_X + 1, Y_BASE - 3 * BALL_RADIUS ],\n    color: 'rgb(200,0,0)'\n  },\n  { // 8\n    number: 8,\n    pos: [ TIP_OF_TRIANGLE - 3 * DEL_X + 1, Y_BASE - BALL_RADIUS ],\n    color: '#000000'\n  },\n  { // 9\n    number: 9,\n    pos: [ TIP_OF_TRIANGLE - 3 * DEL_X + 1, Y_BASE + BALL_RADIUS ],\n    color: 'yellow'\n  },\n  { // 10\n    number: 10,\n    pos: [ TIP_OF_TRIANGLE - 3 * DEL_X + 1, Y_BASE + 3 * BALL_RADIUS ],\n    color: 'blue'\n  },\n  { // 11\n    number: 11,\n    pos: [ TIP_OF_TRIANGLE - 4 * DEL_X, Y_BASE - 4 * BALL_RADIUS ],\n    color: 'rgb(255,140,60)'\n  },\n  { // 12\n    number: 12,\n    pos: [ TIP_OF_TRIANGLE - 4 * DEL_X, Y_BASE - 2 * BALL_RADIUS ],\n    color: 'rgb(255,0,255)'\n  },\n  { // 13\n    number: 13,\n    pos: [ TIP_OF_TRIANGLE - 4 * DEL_X, Y_BASE ],\n    color: 'orange'\n  },\n  { // 14\n    number: 14,\n    pos: [ TIP_OF_TRIANGLE - 4 * DEL_X, Y_BASE + 2 * BALL_RADIUS ],\n    color: 'rgb(0,200,0)'\n  },\n  { // 15\n    number: 15,\n    pos: [ TIP_OF_TRIANGLE - 4 * DEL_X, Y_BASE + 4 * BALL_RADIUS ],\n    color: 'rgb(200,0,0)'\n  }\n];\n\nmodule.exports = BallConstants;\n\n\n\n/*****************\n ** WEBPACK FOOTER\n ** ./lib/ball_constants.js\n ** module id = 10\n ** module chunks = 0\n **/"],"sourceRoot":""}